---
host_name: "bkk02.rotko.net"
host_timezone: "Asia/Bangkok"
ansible_host: "27.131.160.108"
role: "proxmox"

kernel_modules:
  - k10temp
  - zfs

default_need_port_forwarding: False
default_gw_device: "enp4s0"
default_storage: "tank"

lxc_nodes:
  - host: "dot02"
    proxmox_config:
      vmid: "112"
      hostname: "{{ hostvars['dot02']['host_name'] }}"
      ostemplate: 'local:vztmpl/{{ default_container_template }}'
      netif: "{{ hostvars['dot02']['netif'] }}"
      cores: 2
      memory: 30720
      swap: 15360
      password: "{{ default_password }}"
      disk: "{{ default_storage }}:20"
      mounts: '{"mp0":"{{ default_storage }}:600,mp={{ hostvars["dot02"]["polkadot_base"] }}"}'
      onboot: True
      unprivileged: True
      validate_certs: False
      description: "polkadot 2nd validator node: {{ hostvars['dot02']['host_name'] }}"
      state: present
      features:
        - nesting=1
  - host: "ksm02"
    proxmox_config:
      vmid: "122"
      hostname: "{{ hostvars['ksm02']['host_name'] }}"
      ostemplate: 'local:vztmpl/{{ default_container_template }}'
      netif: "{{ hostvars['ksm02']['netif'] }}"
      cores: 2
      memory: 30720
      swap: 15360
      password: "{{ default_password }}"
      disk: "{{ default_storage }}:20"
      mounts: '{"mp0":"{{ default_storage }}:800,mp={{ hostvars["ksm02"]["polkadot_base"] }}"}'
      onboot: True
      unprivileged: True
      validate_certs: False
      description: "Kusama 2nd validator node: {{ hostvars['ksm02']['host_name'] }}"
      state: present
      features:
        - nesting=1
...
