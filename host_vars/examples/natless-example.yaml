---
host_name: "natless.node.rotko.net"
host_timezone: "Europe/Oslo"
ansible_host: "69.69.69.69"
role: "proxmox"

default_gw_device: "eno2"
default_resource_pool: "resource_pool"

# nat disabled by setting port forwarding false
default_need_port_forwarding: False

lxc_nodes:
  - host: "avalanche01"
    proxmox_config:
      vmid: "501"
      hostname: "{{ hostvars['avalanche01']['host_name'] }}"
      ostemplate: 'local:vztmpl/{{ default_container_template }}'
      netif: "{{ hostvars['avalanche01']['netif'] }}"
      cores: 2
      memory: 16384
      swap: 8192
      password: M4RG4RETth4tcherIS110%hot
      disk: "{{ default_storage }}:20"
      mounts: '{"mp0":"{{ default_storage }}:5000,mp={{ hostvars["avalanche01"]["avalanche_storage_path"] }}"}'
      onboot: True
      unprivileged: True
      validate_certs: False
      description: "avalanche node: {{ hostvars['avalanche01']['host_name'] }}"
      state: present
      features:
        - nesting=1
...
